plugin.loadMainCSS();theWebUI.getAllFiles = function(id){    this.request("?action=getAllFiles",[this.showAllFiles, this]);}theWebUI.showAllFiles = function(d){        var tbl = document.getElementById('fileBrowser');    tbl.innerHTML = "";	var newRow = tbl.insertRow(tbl.rows.length);	var newCell = newRow.insertCell(0);	newCell.innerHTML = '<a href="' + d.parentDirPath + '">' + d.parentDirName + '</a>';    //newCell.innerHTML = d;    newRow = tbl.insertRow(tbl.rows.length);	newCell = newRow.insertCell(0);	newCell.innerHTML = '';    newRow = tbl.insertRow(tbl.rows.length);	newCell = newRow.insertCell(0);	newCell.innerHTML = '';        for( var i=0; i < d.files.length; i++){        newRow = tbl.insertRow(tbl.rows.length);        newCell = newRow.insertCell(0);        newCell.innerHTML = '<a href="' + d.files[i].fullpath + '">' + d.files[i].name + '</a>';    }        theDialogManager.show("tdata");	}if(plugin.enabled){	if(plugin.canChangeMenu())	{        plugin.createMenu = theWebUI.createMenu;        theWebUI.createMenu = function(e, id)         {            plugin.createMenu.call(this,e,id);            if(plugin.enabled)            {                var el = theContextMenu.get(theUILang.Properties);                if(el)                    theContextMenu.add(el,["Show All Files", (this.getTable("trt").selCount == 1) ? "theWebUI.getAllFiles('"+id+"')" : null]);            }        }    }                    theDialogManager.make( "tdata", "FILE BROWSER",    "<div style='overflow:auto; width: 350px; height: 450px'>"+        "<fieldset>"+            "<table id='fileBrowser'><tr><td>No Files Loaded!<td><tr></table>"+        "</fieldset>"+    "</div>"+    "<div class='aright buttons-list'><input type='button' value='"+theUILang.Cancel+"' class='Cancel Button'/></div>",    true);    /*Remove the 'change directory' option when adding torrents*/    var element = document.getElementById("dir_edit");    if (element != null){        element.parentNode.removeChild(element);    }    element = document.getElementById("dir_btn");    if (element != null){        element.parentNode.removeChild(element);    }        }rTorrentStub.prototype.getAllFiles = function(){	this.content = "hash="+theWebUI.dID+"&list=True";	this.contentType = "application/x-www-form-urlencoded";	this.mountPoint = "plugins/listfiles/action.php";	this.dataType = "json";}